---
title: "Основы обработки данных с помощью R и Dplyr"
format: md
---

## Цель

1.  Развить практические навыки использования языка программирования R для обработки данных
2.  Закрепить знания базовых типов данных языка R
3.  Развить практические навыки использования функций обработки данных пакета dplyr – функции select(), filter(), mutate(), arrange(), group_by()

## ️Исходные данные

1.  Ноутбук c Windows 11 и установленным Git, R и RStudio
2.  Программный пакет swirl

## ️Ход работы

1.  Установить и загрузить пакет dplyr

2.  Проанализировать наборы данных nycflights13 и получить ответы на вопросы:

    1.  Сколько встроенных в пакет nycflights13 датафреймов?
    2.  Сколько строк в каждом датафрейме?
    3.  Сколько столбцов в каждом датафрейме?
    4.  Как просмотреть примерный вид датафрейма?
    5.  Сколько компаний-перевозчиков (carrier) учитывают эти наборы данных (представлено в наборах данных)?
    6.  Сколько рейсов принял аэропорт John F Kennedy Intl в мае?
    7.  Какой самый северный аэропорт?
    8.  Какой аэропорт самый высокогорный (находится выше всех над уровнем моря)?
    9.  Какие бортовые номера у самых старых самолетов?
    10. Какая средняя температура воздуха была в сентябре в аэропорту John F Kennedy Intl (в градусах Цельсия).
    11. Самолеты какой авиакомпании совершили больше всего вылетов в июне?

3.  Оформить отчет в соответствии с шаблоном

## Содержание ЛР

### Шаг 1

Установка пакетов

``` r
install.packages("dplyr")
install.packages("nycflights13")
```

Загрузка библиотек

```{r}
library("dplyr")
library(nycflights13)
```

### Шаг 2

Анализ наборов данных пакета nycflights13

#### 1. Сколько встроенных в пакет nycflights13 датафреймов?

5: airlines, airports, flights, planes, weather

#### 2. Сколько строк в каждом датафрейме?

```{r}
airports %>% nrow()
```
```{r}
airlines %>% nrow()
```
```{r}
flights %>% nrow()
```
```{r}
planes %>% nrow()
```
```{r}
weather %>% nrow()
```

#### 3. Сколько столбцов в каждом датафрейме?

```{r}
airports %>% ncol()
```
```{r}
airlines %>% ncol()
```
```{r}
flights %>% ncol()
```
```{r}
planes %>% ncol()
```
```{r}
weather %>% ncol()
```

#### 4. Как просмотреть примерный вид датафрейма?

```{r}
airports %>% glimpse()
```
```{r}
airlines %>% glimpse()
```
```{r}
flights %>% glimpse()
```
```{r}
planes %>% glimpse()
```
```{r}
weather %>% glimpse()
```

#### 5. Сколько компаний-перевозчиков (carrier) учитывают эти наборы данных (представлено в наборах данных)?

```{r}
flights %>% group_by(carrier) %>% summarise() %>% nrow()
```

#### 6. Сколько рейсов принял аэропорт John F Kennedy Intl в мае?

```{r}
flights %>% filter(month == 5 & origin == "JFK") %>% nrow()
```

#### 7. Какой самый северный аэропорт?

```{r}
airports %>% arrange(desc(lat)) %>% slice(1)
```

#### 8. Какой аэропорт самый высокогорный (находится выше всех над уровнем моря)?

```{r}
airports %>% arrange(desc(alt)) %>% slice(1)
```

#### 9. Какие бортовые номера у самых старых самолетов?

```{r}
planes %>% arrange(year) %>% slice(1:10) %>% pull(tailnum)
```

#### 10. Какая средняя температура воздуха была в сентябре в аэропорту John F Kennedy Intl (в градусах Цельсия).

```{r}
a<-weather %>% filter(!is.na(temp) & month == 9 & origin == 'JFK') %>%  summarize(ср=mean(temp))
a<-(5/9)*(a-32)
pull(a)
```

#### 11. Самолеты какой авиакомпании совершили больше всего вылетов в июне?

```{r}
b<- flights %>% filter(month == 6) %>% group_by(carrier) %>% summarise("coun"=n()) %>% arrange(desc(coun)) %>% slice(1) %>% select(carrier)
airlines %>% filter(carrier == b$carrier) %>% select(name)
```

#### 12. Самолеты какой авиакомпании задерживались чаще других в 2013 году?

```{r}
c<- flights %>% filter(arr_delay > 0 & year == 2013) %>% group_by(carrier) %>% summarise("coun"=n()) %>% arrange(desc(coun)) %>% slice(1) %>% select(carrier)
airlines %>% filter(carrier == c$carrier) %>% select(name)
```

## Оценка результатов

Задача выполнена при помощи RStudio, удалось познакомится с функционалом и особенностями языка программирования R.

## Вывод

В данной работе успешно удалось познакомиться с языком R и выполнить учебные задания по swirl.
